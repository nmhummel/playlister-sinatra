<% if flash.has?(:message) %>
  <%= flash[:message] %>
<% end %> 
<h1>Edit <%= @song.name %></h1>

<form action="/songs/<%=@song.slug%>" method="POST">
 <input id="hidden" type="hidden" name="_method" value="PATCH">
    
    <label for="artist_name">Artist Name</label>
    <input type="text" name="song[artist][name]" value="<%= @song.artist.name %>" id="Artist Name"><br><br>
   
    <label>Genres:</label><br>
        <% Genre.all.each do |genre| %>
            <input type="checkbox" name="song[genres][]" id="<%=genre.name %>" value="<%=genre.id %>" <%='checked' if @song.genres.include?(genre)%>>
            <%=genre.name%><br>
        <% end %>

        
    
    <br>
   
    <input type="submit" value="Save">

</form>